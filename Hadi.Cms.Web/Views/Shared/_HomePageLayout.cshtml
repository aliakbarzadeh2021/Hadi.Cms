@using Hadi.Cms.Configuration
@using Hadi.Cms.Infrastructure.Helpers
<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>هادی</title>

    <link rel="stylesheet" href="~/Content/Stylesheet/Bootstrap4/bootstrap.min.css">
    @RenderSection("style", false)
    <link href="/Content/Stylesheet/Hadi/styles.css" rel="stylesheet" />

    <script src="~/Scripts/Bootstrap4/jquery.slim.js"></script>
    <script src="~/Scripts/Bootstrap4/popper.min.js"></script>
    <script src="~/Scripts/Bootstrap4/bootstrap.min.js"></script>

    <link href="~/Scripts/slick/slick.css" rel="stylesheet" />
    <link href="~/Scripts/slick/slick-theme.css" rel="stylesheet" />



</head>

<body onload="loadMenu(); getEmplyerCount();" id="main-page">
    <header>
        <div class="grid-line">
            <div class="border-bottom-custom">
                <a href="/">
                    <img class="logo-style" src="/Content/Images/Hadi/Hadi_logo.svg" alt="هادی">
                </a>
            </div>
            <div class="border-bottom-custom border-right-custom">
                <nav class="nav-custom">

                    <ul id="menu" class="items"></ul>
                    <div class="search">
                        <div>
                            @Html.Action("SocialNetworkPartial", "SocialNetwork")
                        </div>
                    </div>
                </nav>
            </div>
            <div>

            </div>
            <div class="border-right-custom">
                @Html.Action("HomePageSliderPartial", "Sliders", new { mobileVersion = false })
                @Html.Action("DepartmentPartial", "Home", new { mobileVersion = false })
            </div>
        </div>
        <nav class="nav-custom-mobile">
            <div>
                <img class="logo-style" src="/Content/Images/Hadi/Hadi_logo.svg" alt="هادی">
            </div>
            <div class="z-index-3 pointer" onclick="toggleLink2(this,false)">
                <img class="burger-image" src="/Content/Images/Hadi/1x/burger.png" alt="" srcset="">
            </div>
        </nav>
        <hr class="line-break-custom">
        <div class="mobile-menu" id="mobileMenu">

        </div>
        <div class="mega-menu" id="megaMenu">

        </div>
        <div id="mobileMegaMenu"></div>
        <div class="grid-mobile">
            @Html.Action("HomePageSliderPartial", "Sliders", new { mobileVersion = true })
            <div class="department-mobile">
                @Html.Action("DepartmentPartial", "Home", new { mobileVersion = true })
            </div>
        </div>
        <div class="quote">
            <div class="quote-fa so-display-h4">
                <div class="z-index-1">
                    در بسیاری از مواقع افراد نمی‌دانند چه می‌خواهند تا آنکه کسی آنچه را می‌خواهند ‌به ایشان نشان دهد.
                </div>
                <div class="author-fa mb-5">
                    "استیو جابز"
                </div>
            </div>
            <div class="quote-en">
                <div>
                    In many cases, people do not know what they want until someone shows them what they want.
                </div>
                <div class="author-en">
                    "steve jobs"
                </div>
            </div>
        </div>
    </header>
    <main>
        @RenderBody()
    </main>
    <footer>
        <div class="goup-element" onclick="topFunction()">
            <svg class="go-up-button" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 147 134"
                style="enable-background:new 0 0 147 134;">
                <g id="Layer_1">
                    <g>
                        <g>
                            <path class="st350" d="M142.38,0.51c2.2,0,3.99,1.79,3.99,3.99V107.3c0,2.2-1.79,3.99-3.99,3.99H34.1c-2.2,0-3.99-1.79-3.99-3.99
				V4.51c0-2.2,1.79-3.99,3.99-3.99H142.38 M142.38,0.31H34.1c-2.32,0-4.2,1.88-4.2,4.2V107.3c0,2.32,1.88,4.2,4.2,4.2h108.28
				c2.32,0,4.2-1.88,4.2-4.2V4.51C146.58,2.19,144.7,0.31,142.38,0.31L142.38,0.31z" />
                        </g>
                        <g>
                            <path class="st350" d="M88.84,45.36c1.72,0,3.12,1.4,3.12,3.12v82.2c0,1.72-1.4,3.12-3.12,3.12H3.94c-1.72,0-3.12-1.4-3.12-3.12
				v-82.2c0-1.72,1.4-3.12,3.12-3.12H88.84 M88.84,45.16H3.94c-1.83,0-3.32,1.49-3.32,3.32v82.2c0,1.83,1.49,3.32,3.32,3.32h84.9
				c1.83,0,3.32-1.49,3.32-3.32v-82.2C92.16,46.64,90.68,45.16,88.84,45.16L88.84,45.16z" />
                        </g>
                        <g>
                            <path class="st58" d="M75.47,63.85h33.39c1.1,0,2-0.9,2-2V28.46c0-1.1-0.9-2-2-2H75.47c-1.1,0-2,0.9-2,2v33.39
				C73.47,62.96,74.36,63.85,75.47,63.85z" />
                            <g>
                                <g>
                                    <path class="st50" d="M95.85,40.67l2,2.01c0.16,0.16,0.41,0.16,0.56,0c0.08-0.08,0.12-0.18,0.12-0.28s-0.04-0.2-0.12-0.28
						l-2-2.01L95.85,40.67z" />
                                    <path class="st50"
                                        d="M94.58,38.28l-2.13-2.13c-0.16-0.16-0.41-0.16-0.56,0l-5.97,5.97c-0.16,0.16-0.16,0.41,0,0.56
						c0.16,0.16,0.41,0.16,0.56,0l5.29-5.29v17.34c0,0.22,0.18,0.4,0.4,0.4s0.4-0.18,0.4-0.4V37.39l1.45,1.45L94.58,38.28z" />
                                </g>
                            </g>
                        </g>
                    </g>
                </g>
            </svg>

        </div>
        <div class="footer-desktop">
            <div class="footer-container">
                <div class="quick-access">
                    <div class="trust-part">
                        <div class="text-center icons ">
                            <div class="trust mb-2">
                                @if (!string.IsNullOrEmpty(Settings.Application_ENamadCode))
                                {
                                    @Html.Raw(Settings.Application_ENamadCode);
                                }
                                </div>
                                <div class="font-anjoman">
                                    <span>
                                        کسانی که همراه
                                    </span>
                                    <img class="shake-style" src="/Content/Images/Hadi/shake_hands.svg" alt="">
                                </div>
                                <div class="text-center font-anjoman">
                                    <span class="text-Turmeric">
                                        هادی
                                    </span>
                                    <span>
                                        هستند
                                    </span>
                                </div>
                                @Html.Action("PartnersPartial", "Partners")
                            </div>
                        </div>
                    </div>
                    <div class="grid-part">
                        @Html.Action("FooterCategoryPartial", "Footer", new { isFooterMobile = false })
                    </div>
                </div>
                <div class="other-information">
                    <div class="partner font-anjoman">
                        <div class="so-subheading-h6 text-regular mb-3 text-right d-flex justify-content-center">
                        </div>

                    </div>
                    <div class="social-media text-center">
                        <div class="so-subheading-text mb-2">
                            همچنین مارا دنبال کنید در :
                        </div>
                        <div>
                            @Html.Action("SocialNetworkPartial", "SocialNetwork")
                        </div>
                    </div>
                    <div class="maps mt-5">
                        <img src="/Content/Images/Hadi/pardis_map.png" alt="">
                    </div>
                    <div class="maps mt-5">
                        <img src="/Content/Images/Hadi/tehran-map.png" alt="">
                    </div>
                </div>
            </div>
            <div class="footer-mobile">
                @Html.Action("FooterCategoryPartial", "Footer", new { isFooterMobile = true })
                <div class="maps mt-5 park">
                    <img src="/Content/Images/Hadi/Pardis_map.png" alt="">
                </div>
                <div class="maps mt-5 zafar">
                    <img src="/Content/Images/Hadi/tehran-map.png" alt="">
                </div>
                <div class="partner mt-5 font-anjoman">
                    <div class="so-display-h2 text-regular mb-4">
                        @if (!string.IsNullOrEmpty(Settings.Application_ENamadCode))
                    {
                        @Html.Raw(Settings.Application_ENamadCode);
                    }
                        <div class="font-anjoman">
                            <span>
                                کسانی که همراه
                            </span>
                            <img class="shake-style" src="/Content/Images/Hadi/shake_hands.svg" alt="">
                        </div>
                        <div class="text-center font-anjoman">
                            <span class="text-Turmeric">
                                هادی
                            </span>
                            <span>
                                هستند
                            </span>
                        </div>
                    </div>
                </div>
                <div class="social-media my-5">
                    <div class="so-display-h2 mb-4 text-regular">
                        همچنین مارا دنبال کنید در :
                    </div>
                    <div>
                        @Html.Action("SocialNetworkPartial", "SocialNetwork")
                    </div>
                </div>
            </div>
            <hr>
            <div class="text-center text-regular pb-4 copy-right so-subheading-text">
                <span>
                    Designed & Developed By
                </span>
                <img src="/Content/Images/Hadi/hadi_logo_footer.svg" alt="">
                <span>
                    © <span class="font-en-sans-serif">2020</span> CopyRight
                </span>

            </div>
        </footer>
        @Scripts.Render("~/Scripts/Hadi/MainJS")
        @RenderSection("scripts", false)

        <script src="~/Scripts/slick/jquery.min.js"></script>
        <script src="~/Scripts/slick/slick.js"></script>


        <script type="text/javascript">
            $(document).ready(function(){
                $(this).scrollTop(0);
            });

            var menuContainer = document.querySelector("#menu");
            var mobileMenuContainer = document.querySelector("#mobileMenu");
            var megaMenuContainer = document.querySelector("#megaMenu");
            var megaMenuMobileContainer = document.querySelector("#mobileMegaMenu");

            var activeEmployer;
            var mobileActiveEmployer;
            var employerId;
            var mobileEmployerId;
            function loadMenu() {
                var param = "@Url.Action("GetMenu", "Menus", null, this.Request.Url.Scheme)";
                var ajaxdata = "";
                @Html.Ajax("GET", "", "nowhere", "returnLoadMenu")
        }
            function returnLoadMenu(data) {
                //console.log(data);
                console.log(data);
                let navbarHtml = "";
                let mobileNavbarHtml = "";
                let megaMenuHtml = "";
                let mobileMegaMenuHtml = "";
                let megaMenuCostum = "";

                for (var i = 0; i < data.Navbar.length; i++) {
                    navbarHtml += "<li class='item'>";
                    if (data.Navbar[i].HasMegaMenu) {
                        navbarHtml += "<a class='link pointer' onclick='toggleLink(this,true)' >";
                        navbarHtml += data.Navbar[i].Title;
                        navbarHtml += "<img class='arrow-up mr-2' src='/Content/Images/Hadi/arrow_down-03.svg'>";
                    }
                    else {
                        navbarHtml += "<a class='link' href='" + data.Navbar[i].Link + "'>";
                        navbarHtml += data.Navbar[i].Title;
                    }
                    navbarHtml += "</a>";
                    navbarHtml += "</li>";
                }
                for (var i = 0; i < data.MegaMenu.length; i++) {
                    megaMenuCostum += "<a  href='" + data.MegaMenu[i].Link + "' class='title'>";
                    megaMenuCostum += data.MegaMenu[i].Title;
                    megaMenuCostum += "</a>";
                }
                for (var i = 0; i < data.SideBarItem.length; i++) {
                    megaMenuCostum += "<a href='" + data.SideBarItem[i].Link + "' class='title'>";
                    megaMenuCostum += data.SideBarItem[i].Title;
                    megaMenuCostum += "</a>";
                }
                for (var i = 0; i < data.Navbar.length; i++) {
                    mobileNavbarHtml += "<li class='item'>";
                    if (data.Navbar[i].HasMegaMenu) {
                        mobileNavbarHtml += "<a class='link pointer' id='heading'  data-toggle='collapse' data-target='#collapseOne'  href='#collapseOne' onClick='changeMegaMenuImage(this,true)' >";
                        mobileNavbarHtml += data.Navbar[i].Title;
                        mobileNavbarHtml += "<img class='arrow-up mr-2' src='/Content/Images/Hadi/arrow_down-03.svg'>";
                        mobileNavbarHtml += "<div id='collapseOne' class='collapse collapse-container' >";
                        mobileNavbarHtml += megaMenuCostum;
                        mobileNavbarHtml += "</div>";
                    }
                    else {
                        mobileNavbarHtml += "<a class='link' href='" + data.Navbar[i].Link + "'>";
                        mobileNavbarHtml += data.Navbar[i].Title;
                    }
                    mobileNavbarHtml += "</a>";
                    mobileNavbarHtml += "</li>";
                }

                for (var i = 0; i < data.MegaMenu.length; i++) {
                    megaMenuHtml += "<div class='box'>";
                    megaMenuHtml += "<a style='border-color:" + data.MegaMenu[i].Color + "' href='" + data.MegaMenu[i].Link + "' class='title'>";
                    megaMenuHtml += data.MegaMenu[i].Title;
                    megaMenuHtml += "</a>";
                    for (var x = 0; x < data.MegaMenu[i].MegaMenuItem.length; x++) {
                        megaMenuHtml += "<div class='mb-3'>";
                        megaMenuHtml += "<a href='" + data.MegaMenu[i].MegaMenuItem[x].Link + "'>";
                        megaMenuHtml += data.MegaMenu[i].MegaMenuItem[x].Title;
                        megaMenuHtml += "<a>";
                        megaMenuHtml += "</div>";
                    }
                    megaMenuHtml += "</div>";
                }
                megaMenuHtml += "<div class='box-custom'>";
                for (var i = 0; i < data.SideBarItem.length; i++) {
                    megaMenuHtml += "<div class='border-bottom-custom padding-x-custom'>";
                    megaMenuHtml += "<a href='" + data.SideBarItem[i].Link + "'>";
                    megaMenuHtml += data.SideBarItem[i].Title;
                    megaMenuHtml += "</a>";
                    megaMenuHtml += "</div>";
                }
                megaMenuHtml += "</div>";


                mobileMegaMenuHtml += "<div class='box'>";
                for (var i = 0; i < data.MegaMenu.length; i++) {
                    mobileMegaMenuHtml += "<a  href='" + data.MegaMenu[i].Link + "' class='title'>";
                    mobileMegaMenuHtml += data.MegaMenu[i].Title;
                    mobileMegaMenuHtml += "</a>";
                }
                for (var i = 0; i < data.SideBarItem.length; i++) {
                    mobileMegaMenuHtml += "<a href='" + data.SideBarItem[i].Link + "' class='title'>";
                    mobileMegaMenuHtml += data.SideBarItem[i].Title;
                    mobileMegaMenuHtml += "</a>";
                }
                mobileMegaMenuHtml += "</div>";


                menuContainer.innerHTML = navbarHtml;
                mobileMenuContainer.innerHTML = mobileNavbarHtml;
                megaMenuContainer.innerHTML = megaMenuHtml;
                console.log("asdfalusdhflkjashdlfjhgaosjdhgfyua");
                console.log(mobileMenuContainer);
            }

            var countOfEmployers = 0;
            function getEmplyerCount() {
                var param = "@Url.Action("GetCountOfEmployers", "Employers", null, this.Request.Url.Scheme)";
                var ajaxdata = "";
                @Html.Ajax("GET", "", "nowhere", "returnEmplyerCount")
                }
            function returnEmplyerCount(data) {
                if (data.Count <= 3) {
                    countOfEmployers = 1;
                }
                else if (data.Count > 3 < 5) {
                    countOfEmployers = 3;
                }
                else if (countOfEmployers >= 5) {
                    countOfEmployers = 3;
                }
                placeEmplyers(countOfEmployers);

            }
            function placeEmplyers(count) {
                $(".carsuol-logo").slick({
                    draggable: false,
                    centerMode: true,
                    infinite: true,
                    centerPadding: '60px',
                    slidesToShow: count,
                    buttons: true,
                    prevArrow: "<img onClick='getEmployerId()'  class='a-left control-c prev slick-prev' src='/Content/Images/Hadi/portfolio/P_arrow_left-02.svg'>",
                    nextArrow: "<img onClick='getEmployerId()' class='a-left control-c prev slick-next' src='/Content/Images/Hadi/portfolio/P_arrow_left-02.svg'>"
                });
                $(".carsuol-logo-mobile").slick({
                    draggable: false,
                    centerMode: true,
                    infinite: true,
                    centerPadding: '60px',
                    slidesToShow: count,
                    buttons: true,
                    prevArrow: "<img onClick='getEmployerIdMobile()' class='a-left control-c prev slick-prev' src='/Content/Images/Hadi/portfolio/P_arrow_left-02.svg'>",
                    nextArrow: "<img onClick='getEmployerIdMobile()' class='a-left control-c prev slick-next' src='/Content/Images/Hadi/portfolio/P_arrow_left-02.svg'>"
                });
                getEmployerId();
                getEmployerIdMobile();

            }


            $(document).on('ready', function () {
                $('.slider').slick({
                    draggable: false,
                    dots: true,
                    prevArrow: "<img class='a-left control-c prev slick-prev' src='/Content/Images/Hadi/S_arrow_left-03.svg'>",
                    nextArrow: "<img class='a-left control-c prev slick-next' src='/Content/Images/Hadi/S_arrow_left-03.svg'>"
                });
                $('.mobile-slider').slick({
                    draggable: false,
                    dots: true,
                    prevArrow: "<img class='a-left control-c prev slick-prev' src='/Content/Images/Hadi/S_arrow_left-03.svg'>",
                    nextArrow: "<img class='a-left control-c prev slick-next' src='/Content/Images/Hadi/S_arrow_left-03.svg'>"
                });

            });

            function getEmployerIdMobile() {
                mobileActiveEmployer = document.querySelector(".projects-information .width-style .carsuol-logo-mobile .slick-list .slick-track .slick-current .image"),
                    console.log(mobileActiveEmployer.id);
                mobileEmployerId = mobileActiveEmployer.id,
                    getProjects(mobileEmployerId);
            }
            function getEmployerId() {
                setTimeout(function(){ 
                activeEmployer = document.querySelector(".projects-information .slick-current .project-name");
                employerId = activeEmployer.id;
                getProjects(employerId);
                }, 500);
               

            }
            function getProjects(Id) {
                console.log("this is");
                console.log(Id);
                var param = "@Url.Action("ProjectsPartial", "Home", null, this.Request.Url.Scheme)";
                var ajaxdata = "id=" + Id;
                @Html.Ajax("GET", "", "nowhere", "returnGetProjectContent")
            }
            function returnGetProjectContent(data) {
                var projectContent = document.querySelector(".tab-content .d-flex-custom .information .description ");
                var projectContentOtherProjects = document.querySelector(".tab-content .d-flex-custom .information .box-container");
                var projectContentImage = document.querySelector(".tab-content .d-flex-custom .image-custom ");

                var contentData = "";
                var ContentDepartemant = "";
                var ContentOtherProjects = "";
                var imageData = "";
                contentData += "<div class='title so-display-h3'>" + data.Title + "</div>";
                contentData += "<div class='text-style'>" + data.Description + "</div>";
                contentData += "<div class='show-project arrow-button-intraction d-flex'>";
                contentData += "<a href='/Projects/Details/" + data.Id + "'>";
                contentData += "<span> نمایش پروژه </span>";
                contentData += "<img src='/Content/Images/Hadi/arrows_green-03.svg'>";
                contentData += "</a ></div > ";
                contentData += "<div class='btn-container'> ";
                for (var i = 0; i < data.ProjectDepartments.length; i++) {
                    contentData += " <a href='/Departments/Details/" + data.ProjectDepartments[i].Id + "' style='background-color: " + data.ProjectDepartments[i].Color + "' class='btn-custom  mr-3 mb-2'>";
                    contentData += " <img class='ml-1' src='" + data.ProjectDepartments[i].AttachmentImageSource + "'>";
                    contentData += " <span>" + data.ProjectDepartments[i].Title + "</span>";
                    contentData += "</a >";
                }
                contentData += "</div > ";
                ContentOtherProjects += "<div class='other-project-container mr-5'>";
                for (var i = 0; i < data.RelatedProjects.length; i++) {

                    ContentOtherProjects += "<a href='/Projects/Details/" + data.RelatedProjects[i].Id + "' class='other-project mb-2 arrow-button-intraction'>";
                    ContentOtherProjects += "<span>" + data.RelatedProjects[i].Title + "</span>";
                    ContentOtherProjects += "<img src='/Content/Images/Hadi/arrows_green-03.svg'>";
                    ContentOtherProjects += "</a > ";
                }
                ContentOtherProjects += "</div>";
                imageData += "<img src='" + data.ImageSource + "'>";

                projectContent.innerHTML = contentData;
                projectContentOtherProjects.innerHTML = ContentOtherProjects;
                projectContentImage.innerHTML = imageData;


            }



            function getEmployerIdByClick() {
                getEmployerId();
            }

        </script>

    </body>

    </html>